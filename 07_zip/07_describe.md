# 07_zip: 客戶地理分佈與市場滲透率分析

此資料夾包含針對客戶地理位置和市場滲透率的分析腳本與結果。

## 分析流程

1.  **資料整合 (`07.py`)**:
    *   讀取 `cleaned_customer_data.csv` (客戶資料) 和 `customer_zip.csv` (郵遞區號人口資料)。
    *   計算每個郵遞區號的 **客戶數量**。
    *   合併客戶數量與人口資料，計算出 **客戶滲透率 (%)**。
    *   公式: `客戶滲透率 = (客戶數量 / 人口數) * 100`
    *   產生 `customer_penetration_rate_with_city.csv` 作為分析結果。

2.  **地理視覺化 (`07_map.py`)**:
    *   讀取 `customer_penetration_rate_with_city.csv` 並結合客戶的經緯度座標。
    *   使用 Plotly 套件產生三張互動式地理分佈圖，視覺化呈現客戶分佈、人口密度與市場滲透率的關係。
    *   新增一張地圖 `map_pop_vs_cust.html`，以顏色表示人口數，點的大小表示客戶數，直觀比較兩者關係。

## 主要發現 (Rules Discovered)

透過 `07.py` 的終端輸出和 `map_by_penetration_rate.html` 的視覺化圖表，我們可以歸納出以下規則與洞察：

### 1. 高滲透率市場特徵：「超飽和」微型市場

-   **觀察**: 數據顯示，客戶滲透率最高的地區集中在人口數非常少的郵遞區號。
    *   **例子**: `90263 Malibu` (人口11, 客戶5, 滲透率45.45%)、`90071 Los Angeles` (人口21, 客戶5, 滲透率23.81%)、`95937 Dunnigan` (人口19, 客戶4, 滲透率21.05%)。
    
    以下是資料中客戶滲透率最高的前五筆數據：
    ```
    郵遞區號,城市,人口數,客戶數量,客戶滲透率 (%)
    90263,Malibu,11,5,45.45454545454545
    90071,Los Angeles,21,5,23.809523809523807
    95937,Dunnigan,19,4,21.052631578947366
    95232,Glencoe,21,4,19.047619047619047
    95735,Twin Bridges,25,4,16.0
    ```
-   **規則**: 這些極端高的滲透率主要源於分母（人口數）極小，即使只有少數客戶也能產生高百分比。
-   **洞察**: 這類地區通常是統計上的極端值，可能代表特定的小型社區、企業客戶或數據點較少的偏遠地區。分析重點應放在確認這些客戶的實際價值，而非盲目擴展。

### 2. 高潛力待開發市場：「高人口、低滲透率」的藍海區域

-   **觀察**: 存在大量人口眾多但客戶滲透率極低的地區。
    *   **例子**: `90011 Los Angeles` (人口101,215, 客戶5, 滲透率0.0049%)、`90650 Norwalk` (人口103,214, 客戶5, 滲透率0.0048%)、`90201 Bell` (人口105,285, 客戶5, 滲透率0.0047%)。

    以下是腳本識別出的「高人口、低滲透率」潛力市場的前五筆數據：
    ```
    郵遞區號,城市,人口數,客戶數量,客戶滲透率 (%)
    94565,Pittsburg,78816,4,0.0051
    93030,Oxnard,79736,4,0.0050
    90011,Los Angeles,101215,5,0.0049
    95076,Watsonville,81141,4,0.0049
    92804,Anaheim,81333,4,0.0049
    ```
-   **規則**: 這些地區擁有龐大的人口基數，但公司的客戶群體非常小。
-   **洞察**: 這些是具有巨大市場潛力的「藍海市場」。公司在此處的業務尚未有效拓展，投入行銷和銷售資源將可能帶來顯著的客戶增長和市場佔有率提升。

### 3. 視覺化結果中的「零客戶」區域

-   **觀察**: 數據中出現部分郵遞區號的城市標示為「未知城市」，且客戶數量為 0，但人口數可能很高。
    *   **例子**: `90020 未知城市` (人口42,394, 客戶0, 滲透率0.0%)、`91402 未知城市` (人口66,249, 客戶0, 滲透率0.0%)。
-   **規則**: 「零客戶」區域可能代表兩個情況：(1) 公司的業務確實尚未進入這些地區；(2) 在數據清洗或合併過程中，城市資訊缺失或郵遞區號未被正確匹配。
-   **洞察**: 對於這類地區，首先需要進行數據驗證，確認「未知城市」是否為真實地址以及其零客戶狀態。一旦確認為真實的市場空白，則可將其納入潛在的市場拓展目標。

## 視覺化結果

-   `map_by_population.html`: 顯示 **人口數量的地理分佈**。
-   `map_by_customer_count.html`: 顯示 **客戶數量的地理分佈**。
-   `map_by_penetration_rate.html`: 顯示 **客戶滲透率**。這張圖揭示了相對於人口，公司在哪些地區做得好（亮色），哪些地區有待加強（暗色）。
-   `map_pop_vs_cust.html`: **客戶數量與人口數量疊加對比**。通過點的顏色（人口）和大小（客戶）來直觀地展示兩者關係。
-   `images/`: 包含上述地圖的靜態截圖，可用於報告。
    -   `客戶數量分布.png`: 對應 `map_by_customer_count.html`。
    -   `客戶滲透率.png`: 對應 `map_by_penetration_rate.html`。

總結來說，本分析不僅識別了現有的強勢市場，更重要的是，**明確指出了具有龐大人口基數但尚未被開發的潛力市場**，為未來的市場擴展策略提供了數據支持。
